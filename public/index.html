<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Service Workers</title>

		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
		<link rel="stylesheet" href="/style.css">
	</head>
	<body>
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<a class="navbar-brand" href="#">Service Workers</a>
				</div>
			</div>
		</nav>
		<div class="jumbotron">
			<div class="container">
				<h1>Hello!</h1>
				<p>Service Workers are the new way of caching content for website. As the name itself suggests, it uses Javascript Web Workers to cache content, control, feed offline app</p>
				<p><a class="btn btn-primary btn-lg" href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API" rel="noopener" target="_blank" role="button">Learn more Â»</a></p>
			</div>
    	</div>
    	<div class="container">
			<div class="row">
				<div class="col-md-3">
				  <h2>Register Worker</h2>
				  <img src="register.png" class="img-responsive" alt="Image">
				  <p>Add this script in your html to register a service worker. Make sure you create a service worker file in your root directory since it has control only on the defined path and sub directories</p>
				</div>
				<div class="col-md-3">
				  <h2>Install Worker</h2>
				  <img src="install.png" class="img-responsive" alt="Image">
				  <p>Once you register, add these lines in service worker file you created to install a worker which caches the necessary files provided with a cache name </p>
				</div>
				<div class="col-md-3">
				  <h2>Return requests</h2>
				  <img src="return.png" class="img-responsive" alt="Image">
				  <p>After installation, create a method to return requests when user refreshes or navigates within the application</p>
				</div>
				<div class="col-md-3">
				  <h2>Update worker</h2>
				  <img src="update.png" class="img-responsive" alt="Image">
				  <p>Automatically update service workers with this script when there is a change which deletes the old cache files</p>
				</div>
	      	</div>
	      	<hr>
	      	<div class="row">
	      		<div class="col-lg-12">
	      			<p>
	      				Inorder to test this page offline, please open developer tools in chrome and navigate to application tab
	      				<ul>
	      					<li>Click the Service workers in left pane and look for sw.js with status active and running (Offline checkbox should be unchecked)</li>
	      					<li>Check the Offline checkbox</li>
	      					<li>Refresh the page and you will be still seeing the webpage!!</li>
	      				</ul>
	      			</p>
	      			<p>Webpage is served from cache, checkout Cache storage tab in left pane to see the cache file</p>
	      		</div>
	      	</div>
	      	<hr>
	      	<footer>
	       		<p>&copy; 2018 Arun Bojja</p>
	      	</footer>
	    </div>
		<!-- jQuery -->
		<script src="https://code.jquery.com/jquery.js"></script>
		<!-- Bootstrap JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
		<!-- service workers -->
		<script>
	      if('serviceWorker' in navigator) {
	        navigator.serviceWorker
	                  .register('/sw.js')
	                  .then(function() { console.log("Service Worker Registered"); });
	      }
	    </script>
	</body>
</html>